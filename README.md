# icmpshell

**УВАГА!**

> ⚠️ **Цей проект є навчальним тестовим руткітом для ядра Linux.**
> 
> ⚠️ **НЕ використовуйте цей код у продуктивних або бойових системах!**
> 
> ⚠️ **Використання, поширення чи модифікація цього коду може бути незаконною у вашій країні. Всі дії ви виконуєте на власний ризик!**
> 
> ⚠️ **Автор не несе відповідальності за будь-які наслідки використання цього коду.**

---

## Опис

`icmpshell` — це навчальний модуль ядра Linux, який перехоплює ICMP Echo (ping) пакети та виконує команди, що передаються у їхньому тілі. Команда повинна починатися з префікса `run:`. Після завантаження модуль виводить попередження у dmesg про те, що завантажено тестовий руткіт.

### Як це працює
- Модуль реєструє Netfilter-хук для перехоплення ICMP-пакетів.
- Якщо у пакеті міститься рядок, що починається з `run:`, команда виконується у usermode через `/bin/sh`.
- Всі інші пакети ігноруються.
- При завантаженні модуль виводить попередження у системний журнал (dmesg).

### Приклад використання

> **Використовуйте лише у віртуальному середовищі для навчання!**

1. Зберіть модуль:
   ```sh
   make
   ```
2. Завантажте модуль (потрібні root-права):
   ```sh
   sudo insmod icmpshell.ko
   ```
3. Перевірте dmesg:
   ```sh
   dmesg | tail
   ```
   Ви побачите попередження про завантаження тестового руткіта.

4. Надішліть ICMP Echo пакет з командою (наприклад, через спеціальний скрипт).

### Попередження
- **Цей код призначений лише для ознайомлення з принципами роботи руткітів та Netfilter у Linux.**
- **Не використовуйте цей модуль для несанкціонованого доступу чи тестування сторонніх систем!**
- **Використовуйте лише у контрольованому середовищі (наприклад, у віртуальній машині).**
- **Видаліть модуль після завершення тестування:**
  ```sh
  sudo rmmod icmpshell
  ```

---

## Автор

Навчальний проект для ознайомлення з розробкою модулів ядра Linux та основами руткітів.

---

**Ще раз: цей код — лише для навчання!**
